{
	"type" : "object",
	"definitions" : {
		"layout" : {
			"type" : "object",
			"properties" : {
				"masters" : {"type" : "integer", "minimum": 0, "maximum": 100},
				"hybrids" : {"type" : "integer", "minimum": 0, "maximum": 100},
				"slaves" : {"type" : "integer", "minimum": 0, "maximum": 100}
			},
			"required": [ "masters", "hybrids", "slaves" ]
		},
		"template" : {
			"type" : "object",
			"properties" : {
				"path" : {"type": "string"},
				"elasticsearch_yml" : {"type" : "string"},
				"search" : {"type" : "string"},
				"load" : {"type" : "string"},
				"merge" : {"type" : "string"}
			}
		}
	},
    "properties" : {
        "region" : {"type" : "string"},
        "vpc-id" : {"type" : "string"},
        "subnet-id" : {"type" : "string"},
        "security_groups" : {"type" : "array"},
        "ami-id" : {"type" : "string"},
        "key_name" : {"type" : "string"},
        "key_file" : {"type" : "string"},
        "instance_type" : {"type" : "string"},
	    "minimum_master_nodes" : {"type" : "integer"},
		"instance_layout" : {"$ref" : "#/definitions/layout"},
        "placement" : {"type" : "string"},
		"block_device_mapping" : {"type" : "array"},
		"ebs_mapping" : {"type": "array"},
		"mount_data_commands" : {"type": "array"},
		"configure_master_commands" : {"type": "array"},
		"configure_slave_commands" : {"type": "array"},
		"configure_hybrid_commands" : {"type": "array"},
		"template_files" : {"$ref" : "#/definitions/template"}
    }
}
